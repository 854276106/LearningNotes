3.4 天美客户端一面

一、问 demo

1. 讲一下ue4 demo
2. 受击和伤害检测是怎么做的  答：射线检测，向量运算
3. 自己从底层实现射线检测怎么实现  答：用OpenGL去渲染一条线，检测是否与物体相交
4. OpenGL怎么去渲染一条线   答：渲染管线，画线算法。
5. 判断直线和三角形相交  答了三种方法
6. 每次都要遍历所有三角形吗  答：空间加速算法

二、c++ 基础

1. 堆和栈

   * new 出来的对象一定是存储在堆上的吗（是）
   * 函数中定义一个vector，他是储存在堆上还是栈上的 （栈上）
   * 那这个vector中如果存储的是new出来的对象类型呢，是在堆上的还是栈上的？（开始怀疑前两个答案）
   * vector扩容机制
   * 向vector中添加一个对象类型，他是在堆上的还是栈上的（堆上的， 再次怀疑前两个答案），普通类型呢？
   * 栈的内存空间在什么时候会发生变化（函数执行和返回，定义局部变量）
   * 函数压栈压的是什么（参数）
   * 定义局部变量的空间是函数在压栈的时候就开辟好的还是定义的时候开辟的（定义的时候）
   * 那这个局部变量存储在哪儿呢？堆上？还是跟在函数的栈内存后面？ 如果是对象类型呢？如果是普通类型呢？  （已经自闭了）
   * 感觉对c++ 堆栈内存一无所知

2. ue4 demo是c++ 做的还是蓝图做的 （c++）

   * 讲一下你对ue c++ 的认识
   * ue 的反射机制，如果让你用传统的c++ 去实现的话，你怎么实现（不会）
   * Cast(dynamic_cast)  怎么进行运行时检测，自己实现dynamic_cast 怎么实现（不清楚，说了一种方法，面试官说是错的）

3. 你了解右值吗？

   * 讲了右值引用，移动语义
   * 左值存储在内存空间，右值存储在哪儿？（寄存器）
   * 寄存器能存储对象类型吗？ （可以吧？对象也可以是右值）
   * 现在有个vector，他的插入函数只有push，怎么用右值引用去优化（扯了半天，没扯对，自闭了）

4.  知道哈希表吗

   * 散列表
   * 哈希表为什么存取都是常数级的？ （哈希函数计算出哈希键值，可以直接下标读取）
   * 通过下标读取考虑哈希冲突了吗？（蒙了，哈希冲突不是哈希函数就解决了吗？当时没反应过来，答不知道了）。




3.9 完美引擎一面

1. 介绍OpenGL游戏
   * 碰撞怎么实现的
   * 粒子特效

2. 介绍ue4 游戏
3. 实验室项目
4. OpenGL 变换矩阵有几个，view矩阵怎么实现的
5. new 和 malloc的区别
6. vector 和 map 的使用场景
7. float 类型怎么比较是否相等
8. 对象的隐式构造和显示构造
9. 析构函数为什么要用虚函数
10. 声明和定义的区别
11. 拷贝构造怎么实现
12. 引用传递和指针传递的区别
13. 点积和叉积的几何意义
14. 齐次坐标的意义  
15. 反射向量的计算
16. 光栅化底层，透视矫正
17. 透明物体的渲染   混合状态





3.11 天美一面



1. 讲一下实验室的经历让你觉得团队合作开发最重要的是什么
2. ue4 demo 
   * AI 怎么实现的  行为树
   * 行为树重写的节点   
   * 跟动画是资源的位置还是自己处理的位移
   * 伤害检测机制
   * 生命机制 
   * UI
   * 动画有没有用到动画树
3. 手写单例模式
4. c++ placement new
5. 反转链表